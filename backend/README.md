# Webç‰ˆæˆ‘çš„ç”µè„‘

è¿™æ˜¯ä¸€ä¸ªåŸºäºSpring Boot + FreeMarker + Template.jsçš„Webç‰ˆWindows"æˆ‘çš„ç”µè„‘"åº”ç”¨ï¼Œé‡‡ç”¨**è§†å›¾ä¸æ•°æ®åˆ†ç¦»**çš„æ¶æ„è®¾è®¡ã€‚

## ğŸ¯ æ¶æ„è®¾è®¡

### æ ¸å¿ƒåŸåˆ™
- **è§†å›¾ä¸æ•°æ®åˆ†ç¦»**: é¡µé¢æ¨¡æ¿åªè´Ÿè´£æ¸²æŸ“ï¼Œæ•°æ®é€šè¿‡AJAXæ¥å£è·å–
- **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªåŠŸèƒ½æ¨¡å—å¯¹åº”ç‹¬ç«‹çš„æ¨¡æ¿æ–‡ä»¶
- **æ¥å£é©±åŠ¨**: æ¯ä¸ªæ•°æ®æ¥å£å¯¹åº”ä¸€ä¸ªæ¨¡æ¿æ¸²æŸ“å‡½æ•°

### æŠ€æœ¯æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯é¡µé¢      â”‚    â”‚   æ•°æ®æ¥å£      â”‚    â”‚   æ¨¡æ¿æ¸²æŸ“      â”‚
â”‚  computer.ftl   â”‚â—„â”€â”€â–ºâ”‚  JSON API       â”‚â—„â”€â”€â–ºâ”‚  Template.js    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é¡µé¢æ¡†æ¶      â”‚    â”‚   æ•°æ®æ¨¡å‹      â”‚    â”‚   æ¨¡æ¿å‡½æ•°      â”‚
â”‚  HTML + CSS     â”‚    â”‚  Java Beans     â”‚    â”‚  renderXXX()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## åŠŸèƒ½ç‰¹æ€§

- ğŸ–¥ï¸ æ¨¡æ‹ŸWindows"æˆ‘çš„ç”µè„‘"ç•Œé¢
- ğŸ“ å·¦ä¾§æ˜¾ç¤ºç½‘ç»œå…±äº«ä½ç½®åˆ—è¡¨
- ğŸ¨ ç°ä»£åŒ–çš„UIè®¾è®¡
- ğŸ“± å“åº”å¼å¸ƒå±€
- âš¡ ä½¿ç”¨Template.jsè¿›è¡Œæ¨¡æ¿æ¸²æŸ“
- ğŸ“Š åˆ†ç±»ç»Ÿè®¡ä¿¡æ¯å±•ç¤º
- ğŸ—‚ï¸ æ–‡ä»¶å¤¹æµè§ˆå’Œå¯¼èˆª
- ğŸ”„ è§†å›¾ä¸æ•°æ®åˆ†ç¦»æ¶æ„

## æŠ€æœ¯æ ˆ

- **åç«¯**: Spring Boot 2.7.14
- **æ¨¡æ¿å¼•æ“**: FreeMarker
- **å‰ç«¯æ¨¡æ¿**: Template.js (art-template)
- **æ ·å¼**: CSS3 + Flexbox + Grid
- **æ„å»ºå·¥å…·**: Maven
- **æ¶æ„æ¨¡å¼**: è§†å›¾ä¸æ•°æ®åˆ†ç¦»

## é¡¹ç›®ç»“æ„

```
computer-webv9/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/example/computerweb/
â”‚       â”‚       â”œâ”€â”€ ComputerWebApplication.java
â”‚       â”‚       â”œâ”€â”€ controller/
â”‚       â”‚       â”‚   â””â”€â”€ ComputerController.java
â”‚       â”‚       â””â”€â”€ model/
â”‚       â”‚           â”œâ”€â”€ NetworkLocation.java
â”‚       â”‚           â”œâ”€â”€ NetworkLocationResponse.java
â”‚       â”‚           â”œâ”€â”€ CategoryCount.java
â”‚       â”‚           â”œâ”€â”€ CategoryCountRequest.java
â”‚       â”‚           â”œâ”€â”€ CategoryCountResponse.java
â”‚       â”‚           â”œâ”€â”€ FolderItem.java
â”‚       â”‚           â”œâ”€â”€ FolderListRequest.java
â”‚       â”‚           â””â”€â”€ FolderListResponse.java
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ application.yml
â”‚           â”œâ”€â”€ static/
â”‚           â”‚   â””â”€â”€ js/
â”‚           â”‚       â””â”€â”€ templates/
â”‚           â”‚           â”œâ”€â”€ location-template.js
â”‚           â”‚           â”œâ”€â”€ category-template.js
â”‚           â”‚           â”œâ”€â”€ folder-template.js
â”‚           â”‚           â””â”€â”€ template-manager.js
â”‚           â””â”€â”€ templates/
â”‚               â”œâ”€â”€ index.ftl
â”‚               â””â”€â”€ computer.ftl
â”œâ”€â”€ pom.xml
â””â”€â”€ README.md
```

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Java 8+
- Maven 3.6+

### 2. è¿è¡Œé¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd computer-webv9

# ç¼–è¯‘é¡¹ç›®
mvn clean compile

# è¿è¡Œé¡¹ç›®
mvn spring-boot:run
```

### 3. è®¿é—®åº”ç”¨

- ä¸»é¡µ: http://localhost:8080
- æˆ‘çš„ç”µè„‘: http://localhost:8080/computer

## APIæ¥å£

### 1. è·å–ç½‘ç»œä½ç½®åˆ—è¡¨

- **URL**: `/smc/api/network-locations`
- **æ–¹æ³•**: GET
- **å“åº”æ ¼å¼**: JSON

```json
{
  "networkLocationList": [
    {
      "ip": "192.168.95.101",
      "name": "shareSpace",
      "user": "lel0958_share",
      "pwd": ""
    },
    {
      "ip": "192.168.95.101",
      "name": "å­¦ä¹ èµ„æ–™",
      "user": "lel0958_share",
      "pwd": ""
    }
  ]
}
```

### 2. è·å–åˆ†ç±»ç»Ÿè®¡ä¿¡æ¯

- **URL**: `/smc/api/network-location/category-count`
- **æ–¹æ³•**: POST
- **è¯·æ±‚å‚æ•°**: 
```json
{
  "networkLocation": {
    "ip": "192.168.95.101",
    "name": "shareSpace"
  }
}
```
- **å“åº”æ ¼å¼**: JSON
```json
{
  "networkLocation": {
    "ip": "192.168.95.101",
    "name": "shareSpace"
  },
  "categoryCount": [
    {
      "type": "video",
      "count": "102"
    },
    {
      "type": "image",
      "count": "103"
    },
    {
      "type": "doc",
      "count": "104"
    },
    {
      "type": "zip",
      "count": "105"
    },
    {
      "type": "music",
      "count": "106"
    }
  ]
}
```

### 3. è·å–æ–‡ä»¶å¤¹åˆ—è¡¨

- **URL**: `/smc/api/network-location/folder-list`
- **æ–¹æ³•**: POST
- **è¯·æ±‚å‚æ•°**: 
```json
{
  "networkLocation": {
    "ip": "192.168.95.101",
    "name": "shareSpace"
  },
  "currentPath": ""
}
```
- **å“åº”æ ¼å¼**: JSON
```json
{
  "networkLocation": {
    "ip": "192.168.95.101",
    "name": "shareSpace"
  },
  "folderList": [
    {
      "fileName": "apps",
      "isDirectory": "1",
      "fileSize": "0",
      "fileType": "DIRECTORY",
      "filePath": "apps",
      "lastModify": "2025-06-23 05:46:54"
    },
    {
      "fileName": "download",
      "isDirectory": "1",
      "fileSize": "0",
      "fileType": "DIRECTORY",
      "filePath": "download",
      "lastModify": "2025-06-23 05:46:54"
    },
    {
      "fileName": "IPX-534.mp4",
      "isDirectory": "0",
      "fileSize": "6352127652",
      "fileType": "VIDEO",
      "filePath": "IPX-534.mp4",
      "lastModify": "2025-06-23 05:46:54"
    }
  ]
}
```

### é¡µé¢è·¯ç”±

- **ä¸»é¡µ**: `GET /`
- **æˆ‘çš„ç”µè„‘**: `GET /{view}` (view=computer)

## æ¶æ„è¯´æ˜

### 1. è§†å›¾ä¸æ•°æ®åˆ†ç¦»

æœ¬é¡¹ç›®é‡‡ç”¨**è§†å›¾ä¸æ•°æ®åˆ†ç¦»**çš„æ¶æ„è®¾è®¡ï¼š

- **è§†å›¾å±‚**: FreeMarkeræ¨¡æ¿åªè´Ÿè´£é¡µé¢ç»“æ„å’Œæ ·å¼
- **æ•°æ®å±‚**: é€šè¿‡AJAXæ¥å£è·å–JSONæ•°æ®
- **æ¸²æŸ“å±‚**: ä½¿ç”¨Template.jsè¿›è¡Œå®¢æˆ·ç«¯æ¨¡æ¿æ¸²æŸ“

### 2. æ•°æ®æµç¨‹

```
1. é¡µé¢åŠ è½½ â†’ computer.ftl
2. JavaScriptè°ƒç”¨æ¥å£ â†’ /smc/api/xxx
3. åç«¯è¿”å›JSONæ•°æ® â†’ Java Controller
4. å‰ç«¯æ¥æ”¶æ•°æ® â†’ JavaScript
5. æ¨¡æ¿æ¸²æŸ“ â†’ Template.js
6. æ›´æ–°DOM â†’ é¡µé¢æ˜¾ç¤º
```

### 3. æ¨¡æ¿ç»„ç»‡

- **ä¸»æ¨¡æ¿**: `computer.ftl` - é¡µé¢æ¡†æ¶å’Œå¸ƒå±€
- **æ¸²æŸ“å‡½æ•°**: JavaScriptä¸­çš„`renderXXXTemplate()`å‡½æ•°
- **æ•°æ®ç»‘å®š**: é€šè¿‡AJAXè·å–çš„æ•°æ®ç›´æ¥ä¼ é€’ç»™æ¸²æŸ“å‡½æ•°

### 4. ä¼˜åŠ¿

- âœ… **è§£è€¦åˆ**: è§†å›¾ä¸æ•°æ®å®Œå…¨åˆ†ç¦»
- âœ… **å¯ç»´æŠ¤æ€§**: æ¨¡æ¿å’Œæ¥å£ç‹¬ç«‹å¼€å‘
- âœ… **å¯æ‰©å±•æ€§**: æ–°å¢åŠŸèƒ½åªéœ€æ·»åŠ æ¥å£å’Œæ¨¡æ¿
- âœ… **æ€§èƒ½ä¼˜åŒ–**: æ”¯æŒå±€éƒ¨æ›´æ–°ï¼Œå‡å°‘é¡µé¢åˆ·æ–°
- âœ… **å¼€å‘æ•ˆç‡**: å‰åç«¯å¯ä»¥å¹¶è¡Œå¼€å‘

## åŠŸèƒ½è¯´æ˜

1. **ä¸»é¡µ**: ç®€æ´çš„æ¬¢è¿é¡µé¢ï¼Œæä¾›è¿›å…¥"æˆ‘çš„ç”µè„‘"çš„å…¥å£
2. **æˆ‘çš„ç”µè„‘é¡µé¢**: 
   - å·¦ä¾§è¾¹æ æ˜¾ç¤ºç½‘ç»œå…±äº«ä½ç½®åˆ—è¡¨
   - é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªç½‘ç»œä½ç½®
   - é¢åŒ…å±‘å¯¼èˆªæ˜¾ç¤ºå½“å‰è·¯å¾„
   - åˆ†ç±»ç»Ÿè®¡å¡ç‰‡å±•ç¤ºæ–‡ä»¶ç±»å‹ç»Ÿè®¡
   - æ–‡ä»¶å¤¹åˆ—è¡¨æ”¯æŒç‚¹å‡»å¯¼èˆª
   - ä½¿ç”¨Template.jsåŠ¨æ€æ¸²æŸ“æ•°æ®
   - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒä¸åŒå±å¹•å°ºå¯¸

## è‡ªå®šä¹‰é…ç½®

å¯ä»¥åœ¨ `application.yml` ä¸­ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

- æœåŠ¡å™¨ç«¯å£: `server.port`
- FreeMarkeræ¨¡æ¿é…ç½®: `spring.freemarker.*`

## å¼€å‘è¯´æ˜

- ä½¿ç”¨FreeMarkerä½œä¸ºæœåŠ¡ç«¯æ¨¡æ¿å¼•æ“
- å‰ç«¯ä½¿ç”¨Template.jsè¿›è¡Œå®¢æˆ·ç«¯æ¨¡æ¿æ¸²æŸ“
- é‡‡ç”¨ç°ä»£åŒ–çš„CSSå¸ƒå±€æŠ€æœ¯
- æ”¯æŒçƒ­é‡è½½å¼€å‘
- æ”¯æŒæ–‡ä»¶å¤¹å¯¼èˆªå’Œé¢åŒ…å±‘å¯¼èˆª
- é‡‡ç”¨è§†å›¾ä¸æ•°æ®åˆ†ç¦»çš„æ¶æ„è®¾è®¡

## è®¸å¯è¯

MIT License 